좋습니다. 현재 구조가 꼬여 있는 GovChat 프로젝트에 대해 다음 목표로 작업 정리 및 구현 계획을 세팅하겠습니다:

* 공공기관 API에서 수집한 정부사업 정보를 파싱, 재구조화 및 임베딩하여 OpenSearch 기반 인덱스에 정리
* 자연어 기반의 조건 유추 → 사업 필터링 → 질문 생성 → 최종 매칭 흐름을 구현할 수 있도록 데이터 구조 및 챗봇 매칭 로직 설계
* 서버리스 기반 아키텍처 (주로 AWS 서비스) 내에서 독립적인 기능 요소 설계 및 통합
* 로그인/회원가입/마이페이지 및 관리자 대시보드 기능 구성
* 관리자 기능에 사업 API키 수동 입력, 보도자료 업로드 통한 사업 조건 추출 UI 포함
* GPT-4 mini 외 더 나은 후보 모델 존재 시 추천 포함

작업 정리가 완료되면 바로 공유드리겠습니다.


# GovChat 프로젝트 개발 개요 및 과제 정리

## 프로젝트 목표 및 개요

GovChat은 **정부 재정 지원사업 정보를 수집**하고 사용자에게 **맞춤 매칭**해 주는 AI 챗봇 서비스입니다. 중앙정부, 지자체, 공공기관 등에서 국민·기업을 대상으로 제공하는 **각종 지원사업 데이터**를 한데 모아 통합 관리하며, 사용자의 상황/조건을 대화로 파악하여 **가장 적합한 사업을 찾아 추천**해 주는 것이 목표입니다. 이를 위해 다양한 기관의 사업정보 API를 연결해 데이터를 모으고, **AI가 이해하기 쉬운 스키마**로 재구조화합니다. 특히 사업에 명시된 조건뿐만 아니라 **유추 가능한 조건**까지 사전에 정리/태깅해 두어, 챗봇이 사용자 발언에서 조건을 추론해낼 수 있도록 합니다. 이렇게 수집된 데이터는 **벡터 임베딩** 및 **클러스터링** 기법으로 구조화되어, 일종의 **원서치(One-Search)** 환경을 구현하는 것이 핵심입니다 (※ *원서치는 Amazon OpenSearch 기반의 통합 검색을 의미합니다*).

## 데이터 통합 및 스키마 최적화

GovChat은 \*\*공공데이터 포털(data.go.kr)\*\*의 오픈 API를 통해 지원사업 정보를 수집합니다. 예를 들어 *“정부 재정지원사업 통합 정보 API”* 등을 활용해 중앙부처부터 지자체까지 다양한 사업들을 불러올 수 있습니다. 현재 제공받은 **API 인증키** (예: `0259O7/...==`)는 해당 포털에서 발급된 **기업용 키**로, 초기 설정 시 사용됩니다. API 키는 시스템 환경변수 또는 **AWS Secrets Manager** 등에 안전하게 보관하고, 코드에 하드코딩하지 않습니다. 관리자용 **시스템 설정 UI**에서 이 키를 입력/갱신할 수 있는 기능을 제공하여, 새로운 키를 손쉽게 등록하도록 합니다.

외부 API로부터 가져온 사업 데이터는 **내부 데이터베이스**에 저장하며, GovChat 전용 **스키마**로 구조화됩니다. 하나의 사업을 나타내는 레코드에는 **사업ID, 사업명(title), 주관기관(agency), 지원내용(description), 대상요건(target\_audience), 신청기간(application\_period)** 등 핵심 필드가 포함됩니다. 외부 데이터와의 연계를 위해 원본 API의 식별자(`policyId` 등)는 별도로 `policy_external_id` 필드로 저장하고, 데이터 출처를 나타내는 `source` 필드(`external` 또는 `manual`)도 유지합니다. 이를 통해 **외부 수집 데이터**와 **관리자 수동 입력 데이터**를 구분하고 동기화 시 활용합니다. 초기 데이터 수집 시에는 외부 API의 **검색 기능**을 이용해 관련 사업들을 폭넓게 조회한 후, 각 항목의 상세 정보를 가져와 **일괄 DB 적재**합니다. 이후에는 **정기 동기화 작업**(예: Lambda 스케줄러 혹은 배치)으로 신규/변경 사항만 업데이트하여 최신성을 유지합니다. 동기화 시 동일 `policy_external_id`가 이미 있으면 업데이트, 없으면 삽입하며, 이미 DB에 존재하는 데이터와 충돌을 피하기 위해 `source`가 `manual`인 항목은 자동 동기화에서 덮어쓰지 않도록 처리합니다. 또한 외부 API 호출 실패나 지연에 대비해 **재시도 및 오류 알림** 로직을 갖추어 안정성을 높입니다.

정의된 스키마는 **AI 매칭에 최적화**되도록 설계되었습니다. 예를 들어 사업의 대상요건을 키워드뿐 아니라 구조화된 조건(연령, 소득, 지역 등) 필드로도 저장하고, 지원 내용이나 혜택도 요약 필드로 별도 분리해 둘 수 있습니다. 이렇게 하면 챗봇이 단순 키워드 비교를 넘어, **사용자 프로필과 사업 조건 간의 정교한 매칭**을 수행할 수 있습니다. 추가로, 사업별 분류 카테고리나 태그(예: *청년창업*, *소상공인*, *농어민* 등)를 미리 부여하거나, 관련 키워드들을 확장하여 메타데이터화함으로써 검색과 필터링 정확도를 향상시킵니다. 데이터가 수집·가공된 후에는 \*\*임베딩(vector embedding)\*\*을 생성하여 OpenSearch에 색인하거나, 별도 벡터 스토어에 저장해 두어 **유사도 검색**에 활용합니다 (자세한 내용은 아래 OpenSearch 항목 참조).

## OpenSearch 기반 검색 및 매칭

“원써치”로 언급된 기능은 Amazon의 **OpenSearch** 서비스를 활용한 **전문 검색 엔진** 도입을 의미합니다. GovChat에서는 방대한 사업 정보를 효과적으로 검색하기 위해 **OpenSearch Serverless** 클러스터를 구성하고, 사업명, 내용(description), 대상 등 **주요 텍스트 필드에 대한 색인**을 구축합니다. 이를 통해 사용자는 키워드나 조건으로 빠르게 지원사업을 찾을 수 있고, 백엔드는 데이터베이스보다는 OpenSearch를 질의하여 **고속의全文 검색**을 수행합니다. 초기 단계에서는 데이터량이 많지 않을 경우 데이터베이스의 Full-text index나 단순 LIKE 검색으로도 운영 가능하지만, **향후 데이터 증가를 대비**해 OpenSearch 클라이언트 라이브러리를 이미 포함시켜 두었습니다. 실제 배포 환경에서도 VPC 내에서 OpenSearch 엔드포인트를 제공하여, Lambda 함수들이 전용 엔드포인트를 통해 안전하게 검색 기능을 사용합니다.

특히 OpenSearch는 \*\*벡터 검색(semantic search)\*\*을 지원하므로, 사업 설명문 등을 **임베딩 벡터**로 변환하여 인덱싱해둘 수 있습니다. 이를 활용하면 사용자의 자연어 질문에 대해 키워드 매칭뿐 아니라 **의미 기반 유사도 검색**이 가능해져, 표현이 달라도 비슷한 의미의 조건을 가진 사업들을 찾아줄 수 있습니다. 예를 들어 사용자가 “**1인 자영업자를 위한 대출 지원 있나요?**”라고 물으면, 해당 문장을 벡터화하여 OpenSearch의 벡터 인덱스에서 최근접 벡터를 가진 사업들을 찾아내는 식입니다. 이렇게 하면 “자영업자 대출”이라는 단어가 없더라도 **유사한 맥락의** “소상공인 금융지원” 사업 등을 찾아줄 수 있어 매칭률이 향상됩니다. 또한 **클러스터링** 기법도 데이터 분석에 활용되는데, 임베딩 벡터들을 미리 군집화하여 **비슷한 사업들끼리 카테고리**를 만들거나, 챗봇이 추가 질문을 할 때 참고하도록 할 수 있습니다. 예를 들어 청년 대상 사업들이 한 클러스터에 묶여 있다면, 사용자가 나이를 밝히지 않았을 경우 챗봇이 나이 관련 질문을 우선적으로 하도록 유도하는 식의 로직도 구상 가능합니다. 이처럼 OpenSearch 기반의 키워드 + 벡터 복합 검색으로 **정확도와 재현율**을 모두 잡는 방향으로 구현합니다.

## 챗봇 매칭 로직 및 프로필 자동화

GovChat의 **AI 챗봇**은 사용자의 질의응답을 통해 **조건을 파악**하고 **적합한 지원사업을 필터링**하는 역할을 합니다. 초기에는 사용자가 자신의 상황이나 필요를 자유롭게 서술하면, 챗봇이 그 내용에서 **매칭에 활용될 만한 조건**(예: 연령, 거주지, 소득, 기업유무 등)을 추출합니다. 만약 핵심 조건이 언급되지 않았거나 불명확하면, **추가 질문**을 통해 정보를 보충합니다. 예를 들어 사용자가 “*창업 지원이 필요해요*”라고만 말하면 챗봇은 “개인 창업이신가요, 아니면 법인 형태인가요?” 또는 “창업자님의 연령대가 어떻게 되실까요?” 같이 **조건을 유추하기 위한 질문**들을 단계적으로 제시합니다. 이러한 질문 로직은 미리 데이터베이스에 정의된 **사업 조건 항목들**과 연관되어 있습니다. 각 사업은 어떤 대상(청년, 중장년, 학생 등), 어떤 목적(창업, 주거, 취업 등)을 갖고 있으므로, 챗봇은 사용자 발언을 분석해 **해당 카테고리로 분류**하고 **부족한 정보를 묻는 방식**입니다.

사용자와 대화를 주고받으면서 **사용자 프로필**이 점진적으로 완성되는 것이 큰 특징입니다. 회원 가입 시에는 이메일, 비밀번호, 이름 정도의 **최소 정보**만 받고 시작하지만, 챗봇이 수집한 추가 정보(예: 연령대, 거주지역, 직업, 창업여부 등)은 **프로필 필드**에 자동으로 채워집니다. 초기에 프로필의 세부 항목은 비어 있으나, 대화 과정에서 “나이는 35살입니다” 같은 답변이 나오면 백엔드에서 해당 사용자의 나이 필드를 채워두는 식입니다. 이렇게 축적된 프로필은 **추후 대화나 검색에 재활용**되어, 반복 질문을 줄이고 맞춤형 추천을 고도화합니다. 예를 들어 이전 대화에서 사용자가 **청년 창업자**로 분류되었다면, 이후에는 관련 없는 노인 복지사업 등을 제외하고 검색하거나, “청년 창업자님께 맞는 지원정책을 찾아드릴게요”처럼 **개인화된 답변**을 할 수 있습니다.

현재 **챗봇 대화 기능은 기본 구현이 완료**된 상태이며, 여기에 **매칭률을 높이기 위한 로직 보정**이 지속 과제로 남아 있습니다. 이는 대화 흐름에서 조건 추론을 정교하게 하고, 필터링된 결과가 정말 사용자 조건에 부합하는지를 개선하는 작업입니다. 향후에는 사용자 피드백이나 성공 매칭 사례를 모아 **추천 알고리즘을 강화**하고, 필요시 **규칙 기반 필터**(예: 연령 컷오프, 지역 일치 여부 등)와 **AI 모델의 추론**을 결합하여 오차를 줄일 계획입니다. 또한 **다중 사업 추천** 기능도 고려 중인데, 조건에 맞는 후보가 여러 개일 경우 우선순위를 매겨 1순위는 바로 보여주고, 2\~3순위 사업들은 “이런 사업들도 맞을 수 있습니다” 식으로 제안할 수 있습니다. 이를 통해 사용자에게 **최적의 선택지**를 **누락 없이 제공**하는 것이 궁극적인 목표입니다.

## 사용자 인증 및 로그인 정책

서비스 이용을 위해 **회원가입 및 로그인이 필요**하며, 인증 체계는 **보안**과 **편의성**을 모두 고려했습니다. 회원가입 시에는 앞서 언급한 대로 **이메일, 비밀번호, 이름**만 받아 간소하게 진행합니다. 이메일은 중복되지 않도록 체크하고, 비밀번호는 규칙에 맞는 강도를 사용하며 **bcrypt 해시**로 안전하게 DB에 저장합니다. 가입 과정에서 **실명 인증 절차**가 추가될 수 있는데, 현재는 필수가 아니지만 차후 **PASS 본인인증**이나 **KISA 본인확인 API** 등을 연동해 사용자가 입력한 이름의 실존 여부를 확인할 수 있습니다. 실명 인증이 완료되면 사용자 계정의 `verified` 필드를 true로 표시하고, 그렇지 않으면 일부 기능 제한이나 추가 인증 절차를 밟도록 설계합니다. 회원가입 후에는 자동으로 로그인 처리되며 **JWT 기반 세션 토큰**이 발급되어 클라이언트에 전달됩니다. 이 토큰을 통해 이후 요청 시 사용자 신분이 검증되고, 무효화/만료 정책에 따라 일정 기간 지나면 재로그인을 요구하게 됩니다.

**소셜 로그인**도 지원하여 이용자의 편의를 높입니다. 현재 계획된 제공자는 **Google, Kakao, Naver**의 OAuth 연동이며, Next.js 기반 프론트엔드에서는 **NextAuth.js**를 이용해 다중 OAuth 프로바이더 로그인을 구현합니다. 소셜 계정으로 처음 로그인하면 해당 플랫폼으로부터 받은 \*\*프로필 정보(이메일, 이름 등)\*\*를 이용해 우리 DB에 계정을 생성하거나 연결합니다. 다만 소셜 프로필의 이름이 실명이 아닐 수 있으므로, 앞서 언급한 별도 실명 인증은 여전히 필요할 수 있습니다. 사용자 입장에서는 이메일/비번 로그인 외에도 **원클릭 소셜 로그인**이 가능해져 진입 장벽이 낮아집니다.

로그인해야 접근 가능한 페이지와 **비로그인(public) 페이지**를 명확히 구분했습니다. **홈페이지 메인**과 **서비스 소개 페이지** 등은 로그인 없이 누구나 볼 수 있는 공개 컨텐츠로 제공되고, 그 외 실제 챗봇 상담이나 개인 대시보드, 사업 검색 결과 화면 등 **사용자별 데이터가 있는 페이지는 반드시 로그인**이 필요합니다. 인증이 없는 상태로 이러한 보호된 경로에 접근하면 프론트엔드 라우팅에서 로그인 페이지로 리디렉션하며, 백엔드 API도 JWT 토큰이 없으면 **401 Unauthorized**를 응답합니다. 이를 통해 사용자 개인정보와 맞춤 추천 결과 등이 **외부에 노출되지 않도록** 막습니다.

회원 프로필 정보는 위에서 설명한 대로 최소한으로 시작하지만, 대화 과정에서 확장됩니다. 사용자는 마이페이지에서 자신의 **프로필을 조회 및 수정**할 수 있으며, 기본적으로 이메일, 이름, 가입일, (실명인증 여부) 정도를 확인합니다. 민감한 정보(비밀번호 해시 등)는 노출되지 않고, 만약 프로필에 추가된 대화 기반 정보가 있다면 (예: 연령대, 관심 분야 등) 사용자에게 투명하게 보여주거나 편집 기회를 줄지는 정책적으로 결정합니다.

## 관리자 대시보드 기능

관리자를 위한 별도 **대시보드 UI**를 제공하여, 데이터 관리와 서비스 운영 기능을 수행합니다. **관리자 계정**은 DB에 미리 생성해 두며, 요구사항에 따라 초기 관리자 계정으로 이메일 `archt723@gmail.com` / 비밀번호 `1q2w3e2w1q!`을 등록해 둡니다. 이 계정은 `role`이 'admin'으로 설정되어 있어 일반 사용자와 구분되며, 운영 중 해당 비밀번호는 안전을 위해 빠르게 변경하거나 MFA 적용 등을 고려합니다. 관리자 대시보드에 로그인하면 다음과 같은 주요 기능에 접근할 수 있습니다:

* **지원사업 현황 열람**: 수집된 **전체 사업 리스트**를 조회하고, 필터나 검색을 통해 특정 사업을 찾을 수 있습니다. 각 사업의 제목, 주관기관, 활성상태, 출처(외부/수동) 등의 요약 정보를 테이블로 보여주고, 선택 시 상세 내용을 확인하거나 편집할 수 있습니다.

* **사업 수동 추가**: 외부 API에 아직 없거나, 급히 등록해야 하는 **신규 사업 정보를 직접 입력**할 수 있습니다. 대시보드 내 **“새 사업 등록” 페이지**에서 사업명, 소관 기관, 지원 대상/요건, 신청기간, 상세 설명 등을 입력하고 제출하면 내부 DB에 해당 레코드가 생성됩니다 (`source` 필드는 'manual'로 저장). 이렇게 추가된 사업도 일반 이용자에게 검색 및 추천에 바로 활용되며, UI 상에서 특별히 구분되지 않습니다. 수동 입력으로 데이터가 등록된 후 나중에 같은 사업이 공공데이터 API에 등장하더라도, 중복으로 처리되지 않도록 **중복 검출 로직**이 필요합니다. (예: 수동 입력 시 기관명+사업명으로 중복 알림, 또는 추후 동기화 시 유사 제목 매칭으로 관리자에게 알림).

* **사업 정보 수정/삭제**: 이미 저장된 사업의 내용을 업데이트하거나 삭제(marking 비활성)할 수 있습니다. 지원요건 변경, 신청기간 연장 등 정책 변동 시 **관리자가 직접 수정**하여 최신 내용으로 유지합니다. 수정 시 변경 이력을 남기고, 외부에서 동기화된 데이터라도 일단 수정이 가해지면 `source`를 `manual`로 변경하거나 별도의 플래그를 세워 이후 자동 덮어쓰기를 방지합니다. 삭제의 경우 실제 데이터를 지우기보다는 `active=false` 같은 속성으로 비활성화 처리하여, 사용자에게 보이지 않도록 하는 식으로 구현할 수 있습니다.

* **API 키 관리**: 새로운 공공데이터 API 키를 입력하거나 기존 키를 교체하는 인터페이스를 제공합니다. 예를 들어 data.go.kr에서 발급받은 **인증키 값을 설정하는 폼**을 두어, 관리자가 키를 입력하면 서버 측에서 Secrets Manager나 환경변수에 저장되도록 합니다. 이를 통해 **여러 종류의 API 키**(만약 부처별로 다른 키를 요구하는 API가 있다면)도 한곳에서 관리 가능하게 합니다. 또한 화면에는 현재 사용 중인 키의 식별 정보(일부 마스킹 처리)와 유효 여부를 표시하여 키 만료 시 갱신을 쉽게 알 수 있도록 합니다.

* **데이터 동기화**: 관리자 대시보드에서 **“동기화” 버튼**을 제공하여, 수동으로 공공데이터 API 동기화를 실행할 수 있습니다. 이를 누르면 백엔드의 `/api/admin/sync-policies` 엔드포인트가 호출되어, 즉시 외부 API에서 새로운 사업 정보를 가져와 DB를 갱신합니다. 동기화 결과 (추가/업데이트된 항목 수 등)를 관리자에게 피드백하여, 데이터 수집 상황을 투명하게 보여줍니다.

* **외부 검색 및 가져오기**: 편의 기능으로, 새로운 사업을 추가하기 전에 **외부 API에서 미리 검색**해볼 수 있습니다. 키워드를 입력해 data.go.kr 등을 조회하고, 만약 이미 존재하는 지원사업이면 그 결과를 바로 가져와 등록하도록 하는 것입니다. 이는 `/api/admin/search-external?keyword=` 엔드포인트로 구현하며, 검색 결과를 대시보드에 리스트업하고 “가져오기” 버튼으로 곧바로 DB에 넣을 수 있게 (필요시 편집 후) 합니다. 이를 통해 중복 입력을 방지하고, 외부 데이터 활용을 극대화합니다.

* **보도자료/문서 입력 (AI 자동 필드추출)**: 관리자 편의를 위해 **별도의 입력 페이지**에서 정부 부처의 보도자료 전문이나 공고문 내용을 통째로 넣으면, AI가 그 문서를 분석하여 **사업명, 지원대상, 혜택조건** 등을 자동으로 추출해주는 기능을 구현하고자 합니다. 예를 들어 새로운 정책 발표 보도자료를 복사해 넣으면, 백엔드의 **ExtractLambda**가 해당 텍스트를 NLP 처리하여 우리 DB 스키마에 맞는 필드값들을 추론합니다 (예: “만 39세 이하 청년” 문구 -> 대상 연령: 39세 이하). 추출된 값들은 관리자에게 한 번 보여줘서 검토/수정할 수 있게 하고, 승인 시 Projects 테이블에 신규 레코드로 저장됩니다. 이 기능을 통해 **비정형 데이터도 손쉽게 구조화**하여 챗봇 매칭에 활용할 수 있게 되며, 아직 공공데이터 포털에 등록되지 않은 정보도 빠르게 반영할 수 있습니다. *(현재 이 부분은 추가 제안사항으로, GPT 등의 대규모언어모델을 백엔드에 활용해 구현할 계획입니다.)*

* **사용자 관리**: 서비스 이용자 목록을 열람하고, 필요시 특정 계정에 대한 권한 변경 또는 제재(차단) 조치를 할 수 있습니다. 일반 사용자의 이메일, 이름, 가입일, 실명인증 여부 등 **최소 정보만 목록으로** 제공하며, 개별 사용자의 상세한 개인 데이터는 관리자도 조회할 수 없도록 합니다. (비밀번호 해시나 인증 로그 등은 볼 수 없고, 개인정보 최소수집 원칙에 따라 애초에 저장되지도 않음). 관리자 화면에서는 특정 사용자를 **관리자로 승격**시키거나, 문제가 있는 계정을 **비활성화**시키는 기능 정도를 제공합니다. 이를 통해 운영자는 서비스 이용 현황을 모니터링하고 필요시 조치할 수 있습니다.

이상의 관리자 기능들은 **role 기반 접근제어(RBAC)** 정책에 따라 보호되며, 관리자 계정이 아닌 경우 해당 API 호출 시 **403 Forbidden**이 반환됩니다. 프론트엔드에서도 일반 사용자에게는 관리자 메뉴가 보이지 않도록 하여 UX 수준에서 접근을 차단합니다. 모든 관리자용 기능은 **로그인 + 관리자권한**이 전제되므로, 보안상 주요 엔드포인트는 추가 검증 로직(JWT의 role 확인 등)을 거칩니다. 또한 관리자 페이지에서 입력받는 **API 키나 사업정보 등의 민감값은 철저히 클라이언트-서버 간 암호화(HTTPS)** 하에 전달하고, 서버에서도 XSS/SQL 인젝션 방지 등 입력값 검증을 수행합니다.

## AI 모델 선택 및 추천

현재 GovChat의 챗봇 엔진으로 \*\*“GPT-4 Mini”\*\*를 활용하기로 결정된 상황입니다. GPT-4 Mini는 OpenAI의 GPT-4 모델을 경량화한 버전으로, GPT-3.5 Turbo 대비 향상된 이해력을 제공하면서도 비용과 응답속도 면에서 효율적인 것으로 알려져 있습니다. 하지만 **매칭 정확도**를 한층 높이고 서비스 효율을 개선하기 위해, 몇 가지 대안을 함께 고려해볼 수 있습니다:

* **OpenAI GPT-3.5 Turbo (Fine-tuned)**: 만약 GPT-4 수준까지의 고도 reasoning이 필요 없다면, 최신 GPT-3.5 Turbo 모델을 우리 도메인에 **파인튜닝**하여 사용하는 방법이 있습니다. OpenAI API에서는 사용 사례에 맞게 모델을 fine-tune할 수 있으므로, 정부사업 관련 Q\&A 데이터를 조금 축적해 파인튜닝하면 **도메인 특화 응답 품질**을 높일 수 있습니다. 이렇게 하면 기본 GPT-3.5보다 매칭률이 올라가면서도 비용은 GPT-4 대비 저렴하게 유지할 수 있습니다. Turbo 모델은 응답 속도도 빠르므로 **실시간 채팅**에서 유리합니다.

* **GPT-4 (Full) or GPT-4 Turbo 16k**: 반대로, 매칭 품질을 최우선으로 한다면 **정식 GPT-4 모델**을 사용하는 것도 고려됩니다. GPT-4는 Mini나 3.5에 비해 확실히 **추론 능력과 복잡한 조건 이해도가 높기 때문에**, 예측이 어려운 엣지 케이스에서도 더 정확한 매칭을 기대할 수 있습니다. 또한 사용자 상황을 장황하게 설명하더라도 16k 컨텍스트까지 한 번에 처리하여 **다수의 지원사업 조건과 일괄 비교**하는 것도 가능합니다. 다만 비용이 크고 응답 지연이 있을 수 있어, 실시간 서비스에서는 **부분적으로 사용**하는 전략이 필요합니다 (예: 우선 Turbo로 1차 후보를 고르고, 최종 답변 생성에만 GPT-4 투입).

* **국내 특화 LLM (예: KoGPT, HyperCLOVA)**: 한국어 영역에 최적화된 초거대 언어모델을 활용하는 방안입니다. 카카오브레인의 **KoGPT**나 네이버의 **HyperCLOVA** 등은 한국어로 학습된 모델이라 정부사업 같은 맥락도 잘 이해할 수 있습니다. KoGPT(60억 파라미터)는 다소 경량이지만 일상적인 한국어 처리에 강점이 있고, HyperCLOVA처럼 수십억\~수천억 파라미터 규모 모델은 유료 API로 사용할 수 있습니다. 이러한 모델들을 도입하면 **한국어 고유의 표현이나 행정용어**에 대한 이해도가 높아져 매칭률 향상에 기여할 수 있습니다. 다만 상용 API 비용이나 인프라 구축(오픈소스 모델의 경우)을 고려해야 합니다.

* **오픈소스 최신 모델 (Llama 2 등) 자가 호스팅**: Meta의 **Llama2**와 같이 공개된 고성능 모델을 활용하면, 커스터마이즈된 챗봇을 **자가 호스팅**할 수 있습니다. 예컨대 Llama-2 13B나 30B 모델을 한국어 데이터로 추가 튜닝하여 AWS 상에서 돌리면, API 호출 비용을 줄이고 **데이터 프라이버시**도 확보할 수 있습니다. 최근에는 Mistral, Falcon 등 우수한 오픈모델들이 등장하여 선택지가 늘었고, 성능도 많이 향상되었습니다. 다만 이런 자체 호스팅은 초기 세팅과 운영 부담(인프라 비용, 모델 최적화 등)이 있기 때문에, 서비스 규모와 필요에 맞춰 판단해야 합니다.

* **하이브리드 매칭 전략**: 반드시 하나의 거대 모델에만 의존하기보다, **복합적인 접근**도 고려합니다. 예를 들어 **임베딩 기반 검색**으로 1차 후보 사업을 추려낸 뒤, **규칙 기반 필터**로 명확한 조건(연령 제한 등)을 먼저 걸러냅니다. 그리고 남은 후보들에 대해 **경량화된 언어모델**(예: GPT-3.5 Turbo)로 “사용자 조건과 각 사업의 적합성 점수”를 산출하거나 간략한 평가를 하게 할 수 있습니다. 마지막으로 가장 점수가 높은 결과를 사용자에게 제시하는 식입니다. 이러한 파이프라인을 구성하면, **대형 모델의 호출 횟수를 최소화**하면서도 상당한 정확도를 확보할 수 있습니다. 실제 GovChat 아키텍처에서도 SearchLambda, MatchLambda, ChatbotLambda 등이 분리되어 있는데, 이는 검색과 매칭 로직을 단계별로 수행하기 위함이며, 각 단계에 적절한 기술을 적용해 효율을 극대화합니다.

종합해볼 때, 현재의 GPT-4 Mini 선정은 **균형 잡힌 선택**으로 보이지만, 상기 대안들을 적절히 조합하면 **매칭률 향상과 비용 절감** 두 마리 토끼를 잡을 수 있습니다. 예컨대 “OpenSearch 벡터검색 + GPT-3.5 Turbo” 조합은 많은 추천시스템에서 효과적이며, 특정 복잡한 문의에만 GPT-4를 백업으로 쓰는 **스마트 라우팅 전략**도 가능합니다. 향후 시범 운영을 거치며 **모델의 응답 품질과 사용량 데이터를 모니터링**한 뒤, 필요하다면 모델 교체나 보조 모델 투입을 점진적으로 시행하면 될 것입니다. 중요한 것은 우리의 도메인(정부 지원정책)에 대해 **모델이 얼마나 학습/최적화**되어 있느냐이므로, 어떤 모델을 쓰더라도 추후 **대화 로그를 활용한 지속적인 튜닝**과 피드백 반영이 이루어져야 할 것입니다.

---

以上の 내용을 정리하면, GovChat 프로젝트는 **서버리스 AWS 아키텍처** 위에 구축된 *(Next.js + API Gateway + Lambda + DynamoDB + OpenSearch)* 종합 시스템으로, 사용자에게 **맞춤형 정부지원사업 추천**이라는 가치를 제공하려고 합니다. 현재까지 **채팅 기능, 로그인/권한 관리, 데이터 수집 및 검색 인프라**의 큰 틀은 설계/구현되었고, 앞으로 남은 작업은 **관리자 대시보드 완성, AI 매칭 로직 고도화, 모델 최적화** 등으로 볼 수 있습니다. 이 문서를 기반으로 개발 진행 상황을 점검하고, 빠진 기능이나 개선점을 보완하여 **원활한 MVP 출시**를 향해 나아가겠습니다. 향후에도 보안과 개인정보 보호를 최우선으로, 동시에 사용자 편의성과 매칭 정확도를 꾸준히 높여나가는 방향으로 프로젝트를 발전시키면 좋겠습니다.&#x20;
